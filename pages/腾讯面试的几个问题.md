---
title: 腾讯面试的几个问题
---

## 1.进程和线程
    1.1 虚拟内存
         在虚拟内存中，程序都活在虚幻的世界中，认为所有内存（一部分内存页）都为他所用；所以，使用地址映射将内存页映射到物理内存中，这样自己崩溃了不会影响到其他程序。
    1.2 区别
          进程可以说是一个静态的概念，进程拥有自己独立的虚拟空间，操作系统会分配资源；即进程是系统资源分配的基本单元；**进程本身不能共享内存空间的，他只有自己的内存空间**
          线程是一个动态概念，是系统执行任务的基本单元，不同线程会有不同的分工；一般进程的运行从*主线程*开始
    1.3 协程
          协程的本质还是线程，只不过他是虚拟机的线程。
          跑在虚拟机的.class文件，相当于跑在虚拟机的.exe文件，如果虚拟机是自己管的，那么它是协程，如果.class是交给操作系统管的，就叫线程。
## 2.多核cpu的结构：
    其中线程本地内存是蓝色区域，ALU需要的数据通过找l1,l2,l3再到内存来进行，一个线程占用一个核，线程本地内存是逻辑概念（蓝色区域）；
## ![2021_05_26_image.png](https://cdn.logseq.com/%2F1e5b0e5f-d368-4a5d-86eb-09a690ee15d77e8759e6-b107-44e4-9b9f-35bc3b256f1d2021_05_26_image.png?Expires=4775635394&Signature=L5I-n9eFf~WG0IeYE6OaIgxQQFGrpxNyfJqyrSWDdWIUU0zIJvE54zKjN6sZRe79X1s~8e6i357fL~SLIeD90xD-XDLazSn0J2h2Tl2WtuB5hyOs7NxmO-u-LwYEQuCs-WELO6x66~9iq8uih9pdsva6DitrJKLYr7pBssMpN9AGHIAwvQ9-KGyeQ5B34G7DH5PHvgpMY4GBx23Zt648cjy5PeQ-QU0de6Jiyu9I67JCe6YNk76pL6TQZNJEO04MWx0DTnDk-2kh5Z2f3u4~HXS9mgKCFTpZ9nQ7GrdKqpt5SSL7KxaBMqZ1L5tcJirYswGZ7IhSpIMxTxDQ1m9Mug__&Key-Pair-Id=APKAJE5CCD6X7MP6PTEA){:height 370, :width 674}
## 线程切换（OS）：将不同的指令通过CPU读入，执行其中几步后将线程保存到cache中。
## **问题：线程是不是越多越好？**
    不是的，如果线程过多，那么cpu会花大量时间在切换上，业务时间就少了
## 线程切换中，由于空间相似性原理，工业上常用64
